"use strict";

var _path = _interopRequireDefault(require("path"));

var _index = _interopRequireDefault(require("../index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('the yaml loader', () => {
  it('must load variables from a yaml', () => {
    process.env.ROCK_TOKEN = 'some-rock-token';
    process.env.SOME_VALUE = 'this is a value';
    process.env.ANOTHER_VALUE = 'this is another value';
    process.env.CONTENT_ID_FROM_ENV = 10;

    _index.default.loadYaml({
      configPath: _path.default.join(__dirname, 'test.yml')
    });

    expect(_index.default.ROCK.API_TOKEN).toEqual(process.env.ROCK_TOKEN);
    expect(_index.default.config).toMatchSnapshot();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9fX3Rlc3RzX18veWFtbC1sb2FkLnRlc3RzLmpzIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiaXQiLCJwcm9jZXNzIiwiZW52IiwiUk9DS19UT0tFTiIsIlNPTUVfVkFMVUUiLCJBTk9USEVSX1ZBTFVFIiwiQ09OVEVOVF9JRF9GUk9NX0VOViIsIkFwb2xsb3NDb25maWciLCJsb2FkWWFtbCIsImNvbmZpZ1BhdGgiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImV4cGVjdCIsIlJPQ0siLCJBUElfVE9LRU4iLCJ0b0VxdWFsIiwiY29uZmlnIiwidG9NYXRjaFNuYXBzaG90Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOzs7O0FBRUFBLFFBQVEsQ0FBQyxpQkFBRCxFQUFvQixNQUFNO0FBQ2hDQyxFQUFBQSxFQUFFLENBQUMsaUNBQUQsRUFBb0MsTUFBTTtBQUMxQ0MsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBQVosR0FBeUIsaUJBQXpCO0FBQ0FGLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxVQUFaLEdBQXlCLGlCQUF6QjtBQUNBSCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsYUFBWixHQUE0Qix1QkFBNUI7QUFDQUosSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlJLG1CQUFaLEdBQWtDLEVBQWxDOztBQUVBQyxtQkFBY0MsUUFBZCxDQUF1QjtBQUNyQkMsTUFBQUEsVUFBVSxFQUFFQyxjQUFLQyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsVUFBckI7QUFEUyxLQUF2Qjs7QUFHQUMsSUFBQUEsTUFBTSxDQUFDTixlQUFjTyxJQUFkLENBQW1CQyxTQUFwQixDQUFOLENBQXFDQyxPQUFyQyxDQUE2Q2YsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBQXpEO0FBQ0FVLElBQUFBLE1BQU0sQ0FBQ04sZUFBY1UsTUFBZixDQUFOLENBQTZCQyxlQUE3QjtBQUNELEdBWEMsQ0FBRjtBQVlELENBYk8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IEFwb2xsb3NDb25maWcgZnJvbSAnLi4vaW5kZXgnO1xuXG5kZXNjcmliZSgndGhlIHlhbWwgbG9hZGVyJywgKCkgPT4ge1xuICBpdCgnbXVzdCBsb2FkIHZhcmlhYmxlcyBmcm9tIGEgeWFtbCcsICgpID0+IHtcbiAgICBwcm9jZXNzLmVudi5ST0NLX1RPS0VOID0gJ3NvbWUtcm9jay10b2tlbic7XG4gICAgcHJvY2Vzcy5lbnYuU09NRV9WQUxVRSA9ICd0aGlzIGlzIGEgdmFsdWUnO1xuICAgIHByb2Nlc3MuZW52LkFOT1RIRVJfVkFMVUUgPSAndGhpcyBpcyBhbm90aGVyIHZhbHVlJztcbiAgICBwcm9jZXNzLmVudi5DT05URU5UX0lEX0ZST01fRU5WID0gMTA7XG5cbiAgICBBcG9sbG9zQ29uZmlnLmxvYWRZYW1sKHtcbiAgICAgIGNvbmZpZ1BhdGg6IHBhdGguam9pbihfX2Rpcm5hbWUsICd0ZXN0LnltbCcpLFxuICAgIH0pO1xuICAgIGV4cGVjdChBcG9sbG9zQ29uZmlnLlJPQ0suQVBJX1RPS0VOKS50b0VxdWFsKHByb2Nlc3MuZW52LlJPQ0tfVE9LRU4pO1xuICAgIGV4cGVjdChBcG9sbG9zQ29uZmlnLmNvbmZpZykudG9NYXRjaFNuYXBzaG90KCk7XG4gIH0pO1xufSk7XG4iXX0=