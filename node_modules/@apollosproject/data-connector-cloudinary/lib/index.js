"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.resolver = void 0;

var _cloudinary = _interopRequireDefault(require("./cloudinary"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable import/prefer-default-export */
const resolver = {
  ImageMediaSource: {
    uri: ({
      uri = ''
    }) => {
      if (!uri || typeof uri !== 'string') return null;
      if (uri.startsWith('http')) return (0, _cloudinary.default)(uri);
      if (uri.startsWith('//')) return (0, _cloudinary.default)(`https:${uri}`);
      return uri;
    }
  }
};
exports.resolver = resolver;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJyZXNvbHZlciIsIkltYWdlTWVkaWFTb3VyY2UiLCJ1cmkiLCJzdGFydHNXaXRoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFEQTtBQUdPLE1BQU1BLFFBQVEsR0FBRztBQUN0QkMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFDaEJDLElBQUFBLEdBQUcsRUFBRSxDQUFDO0FBQUVBLE1BQUFBLEdBQUcsR0FBRztBQUFSLEtBQUQsS0FBa0I7QUFDckIsVUFBSSxDQUFDQSxHQUFELElBQVEsT0FBT0EsR0FBUCxLQUFlLFFBQTNCLEVBQXFDLE9BQU8sSUFBUDtBQUNyQyxVQUFJQSxHQUFHLENBQUNDLFVBQUosQ0FBZSxNQUFmLENBQUosRUFBNEIsT0FBTyx5QkFBZUQsR0FBZixDQUFQO0FBQzVCLFVBQUlBLEdBQUcsQ0FBQ0MsVUFBSixDQUFlLElBQWYsQ0FBSixFQUEwQixPQUFPLHlCQUFnQixTQUFRRCxHQUFJLEVBQTVCLENBQVA7QUFFMUIsYUFBT0EsR0FBUDtBQUNEO0FBUGU7QUFESSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9wcmVmZXItZGVmYXVsdC1leHBvcnQgKi9cbmltcG9ydCB3aXRoQ2xvdWRpbmFyeSBmcm9tICcuL2Nsb3VkaW5hcnknO1xuXG5leHBvcnQgY29uc3QgcmVzb2x2ZXIgPSB7XG4gIEltYWdlTWVkaWFTb3VyY2U6IHtcbiAgICB1cmk6ICh7IHVyaSA9ICcnIH0pID0+IHtcbiAgICAgIGlmICghdXJpIHx8IHR5cGVvZiB1cmkgIT09ICdzdHJpbmcnKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmICh1cmkuc3RhcnRzV2l0aCgnaHR0cCcpKSByZXR1cm4gd2l0aENsb3VkaW5hcnkodXJpKTtcbiAgICAgIGlmICh1cmkuc3RhcnRzV2l0aCgnLy8nKSkgcmV0dXJuIHdpdGhDbG91ZGluYXJ5KGBodHRwczoke3VyaX1gKTtcblxuICAgICAgcmV0dXJuIHVyaTtcbiAgICB9LFxuICB9LFxufTtcbiJdfQ==