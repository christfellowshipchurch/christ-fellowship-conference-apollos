"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "dataSource", {
  enumerable: true,
  get: function () {
    return _dataSource.default;
  }
});
Object.defineProperty(exports, "schema", {
  enumerable: true,
  get: function () {
    return _dataSchema.contentChannelSchema;
  }
});
exports.resolver = void 0;

var _serverCore = require("@apollosproject/server-core");

var _dataSource = _interopRequireDefault(require("./data-source"));

var _dataSchema = require("@apollosproject/data-schema");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// export { default as model } from './model';
const resolver = {
  Query: {
    contentChannels: (root, args, context) => context.dataSources.ContentChannel.getRootChannels()
  },
  ContentChannel: {
    id: ({
      id
    }, args, context, {
      parentType
    }) => (0, _serverCore.createGlobalId)(id, parentType.name),
    childContentItemsConnection: ({
      id
    }, args, {
      dataSources
    }) => dataSources.ContentItem.paginate({
      cursor: dataSources.ContentItem.byContentChannelId(id),
      args
    }),
    iconName: () => 'text' // TODO

  }
};
exports.resolver = resolver;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250ZW50LWNoYW5uZWxzL2luZGV4LmpzIl0sIm5hbWVzIjpbInJlc29sdmVyIiwiUXVlcnkiLCJjb250ZW50Q2hhbm5lbHMiLCJyb290IiwiYXJncyIsImNvbnRleHQiLCJkYXRhU291cmNlcyIsIkNvbnRlbnRDaGFubmVsIiwiZ2V0Um9vdENoYW5uZWxzIiwiaWQiLCJwYXJlbnRUeXBlIiwibmFtZSIsImNoaWxkQ29udGVudEl0ZW1zQ29ubmVjdGlvbiIsIkNvbnRlbnRJdGVtIiwicGFnaW5hdGUiLCJjdXJzb3IiLCJieUNvbnRlbnRDaGFubmVsSWQiLCJpY29uTmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUdBOztBQUNBOzs7O0FBRkE7QUFJTyxNQUFNQSxRQUFRLEdBQUc7QUFDdEJDLEVBQUFBLEtBQUssRUFBRTtBQUNMQyxJQUFBQSxlQUFlLEVBQUUsQ0FBQ0MsSUFBRCxFQUFPQyxJQUFQLEVBQWFDLE9BQWIsS0FDZkEsT0FBTyxDQUFDQyxXQUFSLENBQW9CQyxjQUFwQixDQUFtQ0MsZUFBbkM7QUFGRyxHQURlO0FBS3RCRCxFQUFBQSxjQUFjLEVBQUU7QUFDZEUsSUFBQUEsRUFBRSxFQUFFLENBQUM7QUFBRUEsTUFBQUE7QUFBRixLQUFELEVBQVNMLElBQVQsRUFBZUMsT0FBZixFQUF3QjtBQUFFSyxNQUFBQTtBQUFGLEtBQXhCLEtBQ0YsZ0NBQWVELEVBQWYsRUFBbUJDLFVBQVUsQ0FBQ0MsSUFBOUIsQ0FGWTtBQUdkQyxJQUFBQSwyQkFBMkIsRUFBRSxDQUFDO0FBQUVILE1BQUFBO0FBQUYsS0FBRCxFQUFTTCxJQUFULEVBQWU7QUFBRUUsTUFBQUE7QUFBRixLQUFmLEtBQzNCQSxXQUFXLENBQUNPLFdBQVosQ0FBd0JDLFFBQXhCLENBQWlDO0FBQy9CQyxNQUFBQSxNQUFNLEVBQUVULFdBQVcsQ0FBQ08sV0FBWixDQUF3Qkcsa0JBQXhCLENBQTJDUCxFQUEzQyxDQUR1QjtBQUUvQkwsTUFBQUE7QUFGK0IsS0FBakMsQ0FKWTtBQVFkYSxJQUFBQSxRQUFRLEVBQUUsTUFBTSxNQVJGLENBUVU7O0FBUlY7QUFMTSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUdsb2JhbElkIH0gZnJvbSAnQGFwb2xsb3Nwcm9qZWN0L3NlcnZlci1jb3JlJztcblxuLy8gZXhwb3J0IHsgZGVmYXVsdCBhcyBtb2RlbCB9IGZyb20gJy4vbW9kZWwnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBkYXRhU291cmNlIH0gZnJvbSAnLi9kYXRhLXNvdXJjZSc7XG5leHBvcnQgeyBjb250ZW50Q2hhbm5lbFNjaGVtYSBhcyBzY2hlbWEgfSBmcm9tICdAYXBvbGxvc3Byb2plY3QvZGF0YS1zY2hlbWEnO1xuXG5leHBvcnQgY29uc3QgcmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgY29udGVudENoYW5uZWxzOiAocm9vdCwgYXJncywgY29udGV4dCkgPT5cbiAgICAgIGNvbnRleHQuZGF0YVNvdXJjZXMuQ29udGVudENoYW5uZWwuZ2V0Um9vdENoYW5uZWxzKCksXG4gIH0sXG4gIENvbnRlbnRDaGFubmVsOiB7XG4gICAgaWQ6ICh7IGlkIH0sIGFyZ3MsIGNvbnRleHQsIHsgcGFyZW50VHlwZSB9KSA9PlxuICAgICAgY3JlYXRlR2xvYmFsSWQoaWQsIHBhcmVudFR5cGUubmFtZSksXG4gICAgY2hpbGRDb250ZW50SXRlbXNDb25uZWN0aW9uOiAoeyBpZCB9LCBhcmdzLCB7IGRhdGFTb3VyY2VzIH0pID0+XG4gICAgICBkYXRhU291cmNlcy5Db250ZW50SXRlbS5wYWdpbmF0ZSh7XG4gICAgICAgIGN1cnNvcjogZGF0YVNvdXJjZXMuQ29udGVudEl0ZW0uYnlDb250ZW50Q2hhbm5lbElkKGlkKSxcbiAgICAgICAgYXJncyxcbiAgICAgIH0pLFxuICAgIGljb25OYW1lOiAoKSA9PiAndGV4dCcsIC8vIFRPRE9cbiAgfSxcbn07XG4iXX0=